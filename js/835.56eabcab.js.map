{"version":3,"file":"js/835.56eabcab.js","mappings":"6LACOA,MAAM,Y,GAGPC,EAAAA,EAAAA,GAEM,OAFDD,MAAM,cAAY,EACrBC,EAAAA,EAAAA,GAAgB,UAAZ,aAAO,G,GAIND,MAAM,e,GAMTC,EAAAA,EAAAA,GAAoC,SAA7BC,IAAI,eAAc,OAAG,G,SAE1BF,MAAM,uB,GAGVC,EAAAA,EAAAA,GAGS,UAHDD,MAAM,+BAA+BG,KAAK,U,UAAS,eAEzD,OAAwC,KAArCH,MAAM,wBAAuB,UAAI,G,0CArB5CI,EAAAA,EAAAA,IA0BM,MA1BNC,EA0BM,EAxBJJ,EAAAA,EAAAA,GAsBM,YArBJK,GAIAL,EAAAA,EAAAA,GAgBO,QAhBDD,MAAM,OAAQO,SAAM,8BAAUC,EAAAA,UAAAA,EAAAA,YAAAA,IAAQ,e,EAC1CP,EAAAA,EAAAA,GASM,MATNQ,EASM,WARJR,EAAAA,EAAAA,GAIC,SAHCS,GAAG,cACHP,KAAK,O,qCACIK,EAAAA,KAAI,I,iBAAJA,EAAAA,QAEXG,EAEoCH,EAAAA,SAAM,WAD1CJ,EAAAA,EAAAA,IAC+D,OAD/DQ,GAC+D,QAAhBJ,EAAAA,QAAM,sBAGvDK,GAGS,O,2CClBV,MAAMC,EAAc,KACzB,MAAMC,GAAQC,EAAAA,EAAAA,OACR,aAACC,EAAY,aAAEC,IAAgBC,EAAAA,EAAAA,OAC9BC,MAAOC,EAAMC,aAAcC,EAAQC,WAAYC,IAASC,EAAAA,EAAAA,IAAS,OACtEC,EAAAA,KACGC,OACAC,SAAS,eACTC,IAAI,EAAI,wCAEPvB,EAAWU,GAAac,UAC5B,UACQhB,EAAMiB,SAAS,sBAAuBC,IAC5CC,EAAAA,EAAAA,GAAa,eAGf,CAFE,MAAOC,GACPC,QAAQC,IAAIF,EACd,KAGF,OADAd,EAAKD,MAAQL,EAAMuB,QAAQ,aAAajB,KACjC,CACLA,OACAE,SACAE,QACAP,eACAX,WACD,EDKH,OACEgC,UAAU,CACRC,MAAO,WAETC,QAIE,OAHAC,EAAAA,EAAAA,KAAU,KACRC,OAAOC,EAAEC,kBAAiB,IAErB,IACF/B,IAEP,G,QExCF,MAAMgC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://srm/./src/views/MainProfile.vue","webpack://srm/./src/hooks/profile-form.js","webpack://srm/./src/views/MainProfile.vue?d94e"],"sourcesContent":["<template>\n  <div class=\"app-page\">\n\n    <div>\n      <div class=\"page-title\">\n        <h3>Профиль</h3>\n      </div>\n\n      <form class=\"form\" @submit.prevent=\"onSubmit\">\n        <div class=\"input-field\">\n          <input\n            id=\"description\"\n            type=\"text\"\n            v-model=\"name\"\n          >\n          <label for=\"description\">Имя</label>\n          <span\n            class=\"helper-text invalid\" v-if=\"nError\">{{ nError }}</span>\n        </div>\n\n        <button class=\"btn waves-effect waves-light\" type=\"submit\">\n          Обновить\n          <i class=\"material-icons right\">send</i>\n        </button>\n      </form>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport {profileForm} from \"@/hooks/profile-form\";\nimport {onMounted} from \"vue\";\n\nexport default {\n  metaTitle:{\n    title: 'Profile'\n  },\n  setup() {\n    onMounted(() => {\n      window.M.updateTextFields()\n    })\n    return {\n      ...profileForm()\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import {useField, useForm} from \"vee-validate\";\nimport * as yup from \"yup\";\nimport {useStore} from \"vuex\";\nimport {MessageToast} from \"@/utils/messagePlugin\";\n\nexport const profileForm = () => {\n  const store = useStore()\n  const {handleSubmit, isSubmitting} = useForm()\n  const {value: name, errorMessage: nError, handleBlur: nBlur} = useField('name',\n    yup.string()\n      .trim()\n      .required('Введите Имя')\n      .min(3, `Имя не может быть меньше 3 символов`)\n  )\n  const onSubmit = handleSubmit(async values => {\n    try {\n      await store.dispatch('auth/updateInfoName', values)\n      MessageToast('Имя изменено')\n    } catch (err) {\n      console.log(err)\n    }\n  })\n  name.value = store.getters[\"auth/info\"].name\n  return {\n    name,\n    nError,\n    nBlur,\n    isSubmitting,\n    onSubmit\n  }\n}\n","import { render } from \"./MainProfile.vue?vue&type=template&id=62018ad5\"\nimport script from \"./MainProfile.vue?vue&type=script&lang=js\"\nexport * from \"./MainProfile.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\fullstack\\\\projects\\\\Frontend\\\\VUEJS\\\\crm\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","type","_createElementBlock","_hoisted_1","_hoisted_2","onSubmit","_ctx","_hoisted_3","id","_hoisted_4","_hoisted_5","_hoisted_6","profileForm","store","useStore","handleSubmit","isSubmitting","useForm","value","name","errorMessage","nError","handleBlur","nBlur","useField","yup","trim","required","min","async","dispatch","values","MessageToast","err","console","log","getters","metaTitle","title","setup","onMounted","window","M","updateTextFields","__exports__","render"],"sourceRoot":""}