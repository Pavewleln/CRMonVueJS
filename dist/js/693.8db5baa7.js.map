{"version":3,"file":"js/693.8db5baa7.js","mappings":"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","sources":["webpack://srm/./src/utils/currencyFilter.js","webpack://srm/./src/views/MainHistory.vue","webpack://srm/./src/components/history/HistoryTable.vue","webpack://srm/./src/components/history/HistoryTable.vue?97f2","webpack://srm/./src/views/MainHistory.vue?68bf"],"sourcesContent":["export default function currencyFilter(value, currency = 'RUB') {\n  return new Intl.NumberFormat('ru-RU', {\n    style: 'currency',\n    currency\n  }).format(value)\n}\n","<template>\n  <div class=\"app-page\">\n    <p class=\"center\" v-if=\"!records.length\">Записей пока нет.\n      <router-link to=\"/record\">Добавить запись</router-link>\n    </p>\n    <AppLoader v-else-if=\"loading\"/>\n    <div v-else>\n      <div class=\"page-title\">\n        <h3>История записей</h3>\n      </div>\n      <HistoryTable :records=\"records\"/>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport HistoryTable from \"@/components/history/HistoryTable\";\nimport {onMounted, ref} from \"vue\";\nimport {useStore} from \"vuex\";\nimport AppLoader from \"@/components/app/AppLoader\";\n\nexport default {\n  components: {AppLoader, HistoryTable},\n  setup() {\n    const store = useStore()\n    const loading = ref(true)\n    const records = ref([])\n    const categories = ref([])\n    onMounted(async () => {\n      const allRecords = await store.dispatch('record/getAllRecords')\n      categories.value = await store.dispatch('category/getAllCategory')\n      if(allRecords){\n        records.value = allRecords.map(record => {\n          return {\n            ...record,\n            categoryName: categories.value.find(c => c.id === record.categoryId).title,\n            typeClass: record.type === 'income' ? 'green' : 'red',\n            typeText: record.type === 'income' ? 'Доход' : 'Расход'\n          }\n        })\n      }\n      loading.value = false\n    })\n    return {\n      loading,\n      records,\n      categories\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","<template>\n  <table>\n    <thead>\n    <tr>\n      <th>#</th>\n      <th>Сумма</th>\n      <th>Дата</th>\n      <th>Категория</th>\n      <th>Тип</th>\n      <th>Открыть</th>\n    </tr>\n    </thead>\n\n    <tbody>\n    <tr v-for=\"(r, idx) in records\" :key=\"r.id\">\n      <td>{{idx + 1}}</td>\n      <td>{{ currencyFilter(r.amount) }}</td>\n      <td>{{ r.date.toLocaleString() }}</td>\n      <td>{{ r.categoryName }}</td>\n      <td>\n        <span class=\"white-text badge\" :class=\"[r.typeClass]\">{{ r.typeText }}</span>\n      </td>\n      <td>\n        <button class=\"btn-small btn\" @click=\"$router.push('/record/' + r.id)\">\n          <i class=\"material-icons\">open_in_new</i>\n        </button>\n      </td>\n    </tr>\n    </tbody>\n  </table>\n</template>\n\n<script>\n\nimport currencyFilter from \"@/utils/currencyFilter\";\n\nexport default {\n  props: ['records'],\n  setup(){\n    return{\n      currencyFilter\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import { render } from \"./HistoryTable.vue?vue&type=template&id=86b310be\"\nimport script from \"./HistoryTable.vue?vue&type=script&lang=js\"\nexport * from \"./HistoryTable.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\fullstack\\\\projects\\\\Frontend\\\\VUEJS\\\\srm\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./MainHistory.vue?vue&type=template&id=4beeed66\"\nimport script from \"./MainHistory.vue?vue&type=script&lang=js\"\nexport * from \"./MainHistory.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\fullstack\\\\projects\\\\Frontend\\\\VUEJS\\\\srm\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["currencyFilter","value","currency","Intl","NumberFormat","style","format","class","_createElementVNode","_createElementBlock","_hoisted_1","$setup","length","_createBlock","_component_AppLoader","key","_hoisted_4","_createVNode","_component_HistoryTable","records","_hoisted_2","_component_router_link","to","_hoisted_3","_Fragment","$props","r","idx","id","amount","date","toLocaleString","categoryName","typeClass","typeText","onClick","_ctx","push","props","setup","__exports__","components","AppLoader","HistoryTable","store","useStore","loading","ref","categories","onMounted","async","allRecords","dispatch","map","record","find","c","categoryId","title","type","render"],"sourceRoot":""}